{% extends 'institute-base.html' %}
{% load static %}

{% block title %}Institute Account{% endblock title %}

{% block menu %}
<li><a href="{% url 'institute-home' %}">Institutes</a></li>
<li><a href="{% url 'institute-search' %}">Search</a></li>
{% endblock menu %}

{% block body %}
<main id="institute-account">
  <br><br><br><br>
  <div class="container">
    <div class="row">
      <div class="col-lg-4 col-md-5">
        <div class="col-lg-12 col-md-12">
          <div class="card account-details">
            <img class="card-img-top background-profile" src="{{user.backgroundImage.url}}" alt="background-profile">
            <img src="{{user.profileImage.url}}" alt="profile-picture" class="profile-picture">
            <div class="card-body">
              <h5 class="card-title account-name">{{user.name}}</h5>
              <hr>
              <div class="row" style="text-align: center; font-weight: 600;">
                <div class="col">{{user.profileFollowers}}<br>Followers</div>
                <div class="col">{{user.profileLikes}}<br>Likes</div>
              </div>
              <hr>
              <p class="card-text">{{user.profileDescription}}</p>
              <a href="{{user.profileWebsite}}" target="_blank">{{user.profileWebsite}}</a>
              <br><br>
              <div class="edit-button-div">
                <button type="button" class="edit-button">Edit Profile</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-12 col-md-12">
          <div class="card institute-course-details">
            <div class="card-body">
              <h5 class="card-title title">Courses offered</h5>
              {% for course in college_courses %}
              <a href="#{{course.courseId}}"><span class="badge badge-pill course-badge-blue">{{course.courseId}}</span></a>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-8 col-md-7">
        <div class="col-lg-12 col-md-12">
          <div class="rating-details">
            <h5>
              {{user.name}}
              <i class="fa fa-check-circle text-primary" aria-hidden="true"></i>
            </h5>
            <div class="rating">
              <div class="star">
                <div style="width: 110px;" tabindex="0" id="star">
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star-o" aria-hidden="true"></i>
                  <i class="fa fa-angle-down" aria-hidden="true"></i>
                </div>
              </div>
              <small style="margin-bottom: 0;">567 total  ratings</small>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <p>Campus Rating</p>
                <div class="sub-rating">
                  <div class="star">
                    <div style="width: 110px;">
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star-o" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <p>Staff Rating</p>
                <div class="sub-rating">
                  <div class="star">
                    <div style="width: 110px;">
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star-o" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <p>Library Rating</p>
                <div class="sub-rating">
                  <div class="star">
                    <div style="width: 110px;">
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star-o" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <p>Overall Curriculum Rating</p>
                <div class="sub-rating">
                  <div class="star">
                    <div style="width: 110px;">
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star" aria-hidden="true"></i>
                      <i class="fa fa-star-o" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-12 col-md-12">
          <div class="write-post-div">
            <div class="d-flex flex-row">
              <img src="{{user.profileImage.url}}" alt="profile-picture" class="write-review-profile-picture">
              <h6 class="write-review-title">{{user.name}}</h6>
            </div>
            <br>
            <form action="{% url 'submit-institute-post' %}" method="POST" autocomplete="off" class="submit-institute-post">
              {% csrf_token %}
              <div class="row">
                <div class="col-lg-8 col-sm-12">
                  <input type="text" id="post-text" name="post-text" class="form-control input-post" placeholder="Write your post here..." data-rule="required" data-msg="Please enter valid input">
                  <div class="validate"></div>
                </div>
                <br><br>
                <div class="col-lg-4 col col-sm-12">
                  <div class="row justify-content-between">
                    <div class="col-lg-3 col-sm-2">
                      <i class="fa fa-picture-o" aria-hidden="true" id="image-icon"></i>
                      <input type="file" id="post-image" name="post-image" accept="image/*" class="form-control" hidden data-rule="required">
                    </div>
                    <br><br>
                    <div class="col-lg-9 col-sm-4">
                      <button type="submit" class="btn btn-post">Post</button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <br>
            <div class="loading" id="post-loading">Loading</div>
            <div id="post-success">Post added successfully!</div>
            <div id="post-error">Something went wrong!</div>
            <div id="selected-image-container">
              <p style="margin-bottom: 0px;">Selected image: </p><p id="selected-image" style="color: #4e73df;">None</p>
            </div>
          </div>
        </div>
        <div class="col-lg-12 col-md-12">
          <div class="select-category">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item" role="presentation">
                <a class="nav-link active select-item" id="review-tab" data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="true">Reviews</a>
              </li>
              <li class="nav-item" role="presentation">
                <a class="nav-link select-item" id="course-review-tab" data-toggle="tab" href="#course-reviews" role="tab" aria-controls="course-reviews" aria-selected="false">Course reviews</a>
              </li>
              <li class="nav-item" role="presentation">
                <a class="nav-link select-item" id="college-posts-tab" data-toggle="tab" href="#college-posts" role="tab" aria-controls="college-posts" aria-selected="false">College posts</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-lg-12 col-md-12">
          <div class="tab-content" id="myTabContent">
            <div class="reviews-div tab-pane fade show active" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
              <div class="review">
                <div class="d-flex flex-row">
                  <img src="{% static 'tmp/hero-bg.jpg' %}" alt="profile-picture" class="review-profile-picture">
                  <h6 class="review-title">Parth Bamnote</h6>
                </div>
                <div class="d-flex flex-row">
                  <div class="total-rating">
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star-o" aria-hidden="true"></i>
                  </div>
                  <div class="rating-date">29/03/2021</div>
                </div>
                <div class="rating-description">
                  Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem 
                  Ipsum has been the industry's standard dummy text ever since the 1500s, when an 
                  unknown printer took a galley of type and scrambled it to make a type specimen 
                  book.
                </div>
                <div class="more-ratings mt-4">
                  <div class="row">
                    <div class="col">
                      <div class="rating-name">Campus Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                    <div class="col">
                      <div class="rating-name">Library Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="helful-div mt-2">
                  <small>67 people found this useful</small>
                  <div class="row">
                    <div class="col-lg-4"><p>Was this review helpful?</p></div>
                    <div class="col-lg-4">
                      <button type="button" class="btn btn-yes-no">Yes</button>
                      <button type="button" class="btn btn-yes-no">No</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="review">
                <div class="d-flex flex-row">
                  <img src="{% static 'tmp/hero-bg.jpg' %}" alt="profile-picture" class="review-profile-picture">
                  <h6 class="review-title">Parth Bamnote</h6>
                </div>
                <div class="d-flex flex-row">
                  <div class="total-rating">
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star-o" aria-hidden="true"></i>
                  </div>
                  <div class="rating-date">28/03/2021</div>
                </div>
                <div class="rating-description">
                  Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem 
                  Ipsum has been the industry's standard dummy text ever since the 1500s, when an 
                  unknown printer took a galley of type and scrambled it to make a type specimen 
                  book.
                </div>
                <div class="more-ratings mt-4">
                  <div class="row">
                    <div class="col">
                      <div class="rating-name">Campus Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                    <div class="col">
                      <div class="rating-name">Library Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="helful-div mt-2">
                  <small>67 people found this useful</small>
                  <div class="row">
                    <div class="col-lg-4"><p>Was this review helpful?</p></div>
                    <div class="col-lg-4">
                      <button type="button" class="btn btn-yes-no">Yes</button>
                      <button type="button" class="btn btn-yes-no">No</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="reviews-div tab-pane fade" id="course-reviews" role="tabpanel" aria-labelledby="course-reviews-tab">
              <div class="review">
                <div class="d-flex flex-row">
                  <img src="{% static 'tmp/hero-bg.jpg' %}" alt="profile-picture" class="review-profile-picture">
                  <h6 class="review-title">Parth Bamnote</h6>
                </div>
                <div class="d-flex flex-row">
                  <div class="rating-course">Computer Engineering Dimploma</div>
                  <div class="rating-date">28/03/2021</div>
                </div>
                <div class="rating-description">
                  Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem 
                  Ipsum has been the industry's standard dummy text ever since the 1500s, when an 
                  unknown printer took a galley of type and scrambled it to make a type specimen 
                  book.
                </div>
                <div class="more-ratings mt-4">
                  <div class="row">
                    <div class="col">
                      <div class="rating-name">Staff Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                    <div class="col">
                      <div class="rating-name">Curriculum Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="helful-div mt-2">
                  <small>67 people found this useful</small>
                  <div class="row">
                    <div class="col-lg-4"><p>Was this review helpful?</p></div>
                    <div class="col-lg-4">
                      <button type="button" class="btn btn-yes-no">Yes</button>
                      <button type="button" class="btn btn-yes-no">No</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="review">
                <div class="d-flex flex-row">
                  <img src="{% static 'tmp/hero-bg.jpg' %}" alt="profile-picture" class="review-profile-picture">
                  <h6 class="review-title">Parth Bamnote</h6>
                </div>
                <div class="d-flex flex-row">
                  <div class="rating-course">IT Engineering Dimploma</div>
                  <div class="rating-date">27/03/2021</div>
                </div>
                <div class="rating-description">
                  Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem 
                  Ipsum has been the industry's standard dummy text ever since the 1500s, when an 
                  unknown printer took a galley of type and scrambled it to make a type specimen 
                  book.
                </div>
                <div class="more-ratings mt-4">
                  <div class="row">
                    <div class="col">
                      <div class="rating-name">Staff Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                    <div class="col">
                      <div class="rating-name">Curriculum Rating</div>
                      <div class="rating-stars">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="helful-div mt-2">
                  <small>67 people found this useful</small>
                  <div class="row">
                    <div class="col-lg-4"><p>Was this review helpful?</p></div>
                    <div class="col-lg-4">
                      <button type="button" class="btn btn-yes-no">Yes</button>
                      <button type="button" class="btn btn-yes-no">No</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="review">3</div>
            </div>
            <div class="reviews-div tab-pane fade" id="college-posts" role="tabpanel" aria-labelledby="college-posts-tab">
              <div class="row">
                <div class="col-lg-6 col-sm-12">
                  <div class="post">
                    <img src="{% static 'tmp/banner-img-1.jpg' %}" alt="post picture" class="img-fluid post-picture">
                    <div class="d-flex justify-content-start">
                      <i class="fa fa-heart-o icon" aria-hidden="true" style="padding-right: 5px;"></i>
                      &nbsp;
                      <i class="fa fa-comment-o icon" aria-hidden="true"></i>
                    </div>
                    <p style="padding-top: 3px;">This view is of our college building..</p>
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="post">
                    <img src="{% static 'tmp/banner-img-1.jpg' %}" alt="post picture" class="img-fluid post-picture">
                    <div class="d-flex justify-content-start">
                      <i class="fa fa-heart-o icon" aria-hidden="true" style="padding-right: 5px;"></i>
                      &nbsp;
                      <i class="fa fa-comment-o icon" aria-hidden="true"></i>
                    </div>
                    <p style="padding-top: 3px;">This view is of our college building..</p>
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="post">
                    <img src="{% static 'tmp/banner-img-1.jpg' %}" alt="post picture" class="img-fluid post-picture">
                    <div class="d-flex justify-content-start">
                      <i class="fa fa-heart-o icon" aria-hidden="true" style="padding-right: 5px;"></i>
                      &nbsp;
                      <i class="fa fa-comment-o icon" aria-hidden="true"></i>
                    </div>
                    <p style="padding-top: 3px;">This view is of our college building..</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock body %}

{% block your-account %}
<div class="btn-group">
    <button class="btn-account btn-active dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Account</button>
    <div class="dropdown-menu shadow" style="border: none;">
      <a class="dropdown-item" href="{% url 'institute-account' %}">My Profile</a>
      <a class="dropdown-item" href="#">Edit Profile</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
    </div>
</div>
{% endblock your-account %}

{% block email-form-token %}
{% csrf_token %}
{% endblock email-form-token %}

{% block extra-js %}
<script>
  // $('#star').hover(function() {
  //   $('#star').popover('show');
  // });
  //  html="true" role="button" data-toggle="popover" data-placement="bottom" data-trigger="hover click" title="Popover" data-content="<div class='spinner-border text-secondary' role='status'><span class='sr-only'>Loading...</span></div>"
  $(document).ready(function () {
    var popoverTemplate = ['<div class="popover rating-popover" role="tooltip">',
        '<div class="arrow"></div>',
        '<div class="popover-body rating-body">',
        '</div>',
        '</div>'].join('');

    var content = ['<div>',
    '<div class="rating-header">4.3 out of 5</div>',
    '<div>567 total ratings</div><br>',
    '<div class="row txt-center">',
      '<div class="col-2">5 star</div>',
      '<div class="col-4">',
        '<div class="progress">',
          '<div id="5" class="progress-bar rating-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>',
        '</div>',
      '</div>',
      '<div id="5-per" class="col-2"></div>',
    '</div>',
    '<div class="row txt-center">',
      '<div class="col-2">4 star</div>',
      '<div class="col-4">',
        '<div class="progress">',
          '<div id="4" class="progress-bar rating-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>',
        '</div>',
      '</div>',
      '<div id="4-per" class="col-2"></div>',
    '</div>',
    '<div class="row txt-center">',
      '<div class="col-2">3 star</div>',
      '<div class="col-4">',
        '<div class="progress">',
          '<div id="3" class="progress-bar rating-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>',
        '</div>',
      '</div>',
      '<div id="3-per" class="col-2"></div>',
    '</div>',
    '<div class="row txt-center">',
      '<div class="col-2">2 star</div>',
      '<div class="col-4">',
        '<div class="progress">',
          '<div id="2" class="progress-bar rating-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>',
        '</div>',
      '</div>',
      '<div id="2-per" class="col-2"></div>',
    '</div>',
    '<div class="row txt-center">',
      '<div class="col-2">1 star</div>',
      '<div class="col-4">',
        '<div class="progress">',
          '<div id="1" class="progress-bar rating-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>',
        '</div>',
      '</div>',
      '<div id="2-per" class="col-2"></div>',
    '</div>',
    '</div>', ].join('');
    $('#star').popover({
        selector: '[rel=popover]',
        trigger: 'hover',
        content: content,
        template: popoverTemplate,
        placement: "bottom",
        html: true
    });

    $("#image-icon").on('click', function() {
        $("#post-image").click();
      });

    $("#post-image").on('change', function(e) {
      var value = e.target.files[0].name;
      $("#selected-image").text(value);
      $("#selected-image-container").slideDown();
    });
  });
  $('#star').hover(mouseEnter, mouseLeave);
  function mouseEnter() {
    $('#star').popover('show');
    $('#5').attr('style', 'width: 75%');
    $('#5-per').text('75%');

    $('#4').attr('style', 'width: 8%');
    $('#4-per').text('8%');

    $('#3').attr('style', 'width: 5%');
    $('#3-per').text('5%');

    $('#2').attr('style', 'width: 2%');
    $('#2-per').text('2%');

    $('#1').attr('style', 'width: 10%');
    $('#1-per').text('10%');
  };
  function mouseLeave() {
    $('#star').popover('hide');
  };
</script>
<script src="{% static 'assets/vendor/form/submit_institute_post.js' %}"></script>3
{% endblock extra-js %}